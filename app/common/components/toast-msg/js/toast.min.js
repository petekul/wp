"use strict";(app=angular.module("SSO.sessionIdle")).directive("sessionIdle",["idleService","urlService",function(e,o){return{templateUrl:"/sso/modules/common/components/session-idle/templates/sessionIdle.tmpl.html",link:function(n,t,i){e.loadConfig(),n.yes=function(){o.loadURLs().then(function(o){e.startTimer()})},n.no=function(){e.logOut()},$("#idleModal").on("hidden.bs.modal",function(o){e.startTimer(),e.hideModal()})}}}]),(app=angular.module("SSO.sessionIdle")).directive("sessionIdle",["idleService","urlService",function(e,o){return{templateUrl:"/sso/modules/common/components/session-idle/templates/sessionIdle.tmpl.html",link:function(n,t,i){e.loadConfig(),n.yes=function(){o.loadURLs().then(function(o){e.startTimer()})},n.no=function(){e.logOut()},$("#idleModal").on("hidden.bs.modal",function(o){e.startTimer(),e.hideModal()})}}}]);var app=angular.module("SSO.sessionIdle",["SSO.url"]);angular.module("SSO.sessionIdle").service("idleService",["$http","$q","$state","urlService",function(e,o,n,t){var i=0,l=900,a=(o.defer(),function(){$("#idleModal").is(":hidden")&&$("#idleModal").modal("show")}),d=function(){$(".modal-backdrop").remove(),$("#idleModal").modal("hide")},s=function(){clearInterval(i)};return{loadConfig:function(){e.get("/sso/modules/common/components/session-idle/idle.conf.json").then(function(e){l=parseFloat(e.data.timeoutDuration)})},startTimer:function(){var e=(new Date).getTime(),o="0.0";s(),i=setInterval(function(){var t=(new Date).getTime()-e;o=Math.floor(t/100)/10,Math.round(o)==o&&(o+=".0"),o>l-60&&(a(),o>l&&(d(),n.go("app.timeout"),s()))},100)},logOut:function(){window.location.href="/logout",s()},timeOut:function(){var e="/logout"+t.getDefaultURL(),o=-1===e.indexOf("?")?"?":"&";window.location.href=e+o+"p_error_code=SSO-1"},hideModal:d}}]);var app=angular.module("SSO.sessionIdle",["SSO.url"]);angular.module("SSO.sessionIdle").service("idleService",["$http","$q","$state","urlService",function(e,o,n,t){var i=0,l=900,a=(o.defer(),function(){$("#idleModal").is(":hidden")&&$("#idleModal").modal("show")}),d=function(){$(".modal-backdrop").remove(),$("#idleModal").modal("hide")},s=function(){clearInterval(i)};return{loadConfig:function(){e.get("/sso/modules/common/components/session-idle/idle.conf.json").then(function(e){l=parseFloat(e.data.timeoutDuration)})},startTimer:function(){var e=(new Date).getTime(),o="0.0";s(),i=setInterval(function(){var t=(new Date).getTime()-e;o=Math.floor(t/100)/10,Math.round(o)==o&&(o+=".0"),o>l-60&&(a(),o>l&&(d(),n.go("app.timeout"),s()))},100)},logOut:function(){window.location.href="/logout",s()},timeOut:function(){var e="/logout"+t.getDefaultURL(),o=-1===e.indexOf("?")?"?":"&";window.location.href=e+o+"p_error_code=SSO-1"},hideModal:d}}]);